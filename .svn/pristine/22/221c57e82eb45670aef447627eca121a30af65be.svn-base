<!DOCTYPE html>
<html lang="en" data-ng-app="app"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <title>大蜂保险</title>
        <meta name="description" content="大蜂保险" />
        <meta name="keywords" content="大蜂保险" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/simple-line-icons/2.4.1/css/simple-line-icons.min.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
        <!-- Sweetalert -->
        <link href="https://cdn.bootcss.com/sweetalert/1.1.3/sweetalert.min.css" rel="stylesheet">
        <!-- jquery toastr -->
        <link rel="stylesheet" href="libs/jquery/toastr/toastr.min.css" type="text/css"/>

        <!-- build:css css/app.min.css -->
        <link rel="stylesheet" href=css/font.css" type="text/css" />
        <link rel="stylesheet" href="css/app.css" type="text/css" />

        <!-- WEBIM -->
        <link href="https://cdn.bootcss.com/jqueryui/1.11.4/jquery-ui.min.css" rel="stylesheet">
        <!--<link href="https://cdn.bootcss.com/bootstrap-table/1.4.0/bootstrap-table.min.css" rel="stylesheet">-->
        <link rel="stylesheet" href="libs/TIMsdk/css/webim_demo.css" type="text/css" />

        <link rel="stylesheet" href="libs/layer/mobile/need/layer.css" type="text/css" />
        <link rel="stylesheet" href="libs/jquery/autocomplete/styles.css" type="text/css" />
        <!-- endbuild -->
        <script th:inline="javascript">

            window.myid = [[${id}]];
        </script>
        <script>
            window.distEntityId = {
                value:null
            };
        </script>
    </head>
    <body ng-controller="AppCtrl">

        <div class="app" id="app" ng-class="{
                    'app-header-fixed':app.settings.headerFixed, 'app-aside-fixed':app.settings.asideFixed, 'app-aside-folded':app.settings.asideFolded, 'app-aside-dock':app.settings.asideDock, 'container'
                        :app.settings.container}">

            <!-- navbar -->
            <div data-ng-include=" 'tpl/blocks/header.html'" class="app-header navbar">
            </div>
            <!-- / navbar -->

            <!-- menu -->
            <div data-ng-include=" 'tpl/blocks/aside.html' " class="app-aside hidden-xs {{app.settings.asideColor}}">
            </div>
            <!-- / menu -->

            <!-- 修改密码 -->
            <div class="modal fade" id="reset_password_modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span>&times;</span>
                            </button>
                            <h4 class="modal-title">修改密码</h4>
                        </div>
                        <div class="modal-body">
                            <form name="reset_password_form" class="form-horizontal form-validation">
                                <div class="form-group">
                                    <label class="col-xs-3 control-label">原密码：</label>
                                    <div class="col-xs-9">
                                        <input type="password"
                                               class="form-control"
                                               ng-model="oldPwd"
                                               autocomplete="off"
                                               required
                                               placeholder="原密码">
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in "></div>
                                <div>
                                    <div class="form-group">
                                        <label class="col-xs-3 control-label">新密码：</label>
                                        <div class="col-xs-9">
                                            <input type="password"
                                                   class="form-control"
                                                   name="newPwd"
                                                   required
                                                   ng-model="newPwd"
                                                   autocomplete="off"
                                                   placeholder="新密码">
                                        </div>
                                    </div>
                                    <div class="line line-dashed b-b line-lg pull-in"></div>

                                    <div class="form-group">
                                        <label class="col-xs-3 control-label">确认密码：</label>
                                        <div class="col-xs-9">
                                            <input type="password"
                                                   class="form-control"
                                                   name="confirmPwd"
                                                   required
                                                   autocomplete="off"
                                                   ng-model="confirmPwd"
                                                   ui-validate="'$value==newPwd'"
                                                   ui-validate-watch="'newPwd'"
                                                   placeholder="确认密码">
                                            <span class="help-block text-danger" ng-show='reset_password_form.confirmPwd.$error.validator'>两次输入的密码不一致！</span>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" ng-disabled="reset_password_form.$invalid" ng-click="resetPassword()">保存</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- content -->
            <div class="app-content">
                <div ui-butterbar=""></div>
                <a class="off-screen-toggle hide" ui-toggle-class="off-screen" data-target=".app-aside" ></a>
                <div id="common_container" class="app-content-body app-content-full fade-in-up h-full" ui-view>

                    <!--<div class="spinner">-->
                        <!--<div class="rect1"></div>-->
                        <!--<div class="rect2"></div>-->
                        <!--<div class="rect3"></div>-->
                        <!--<div class="rect4"></div>-->
                        <!--<div class="rect5"></div>-->
                    <!--</div>-->

                    <div id="loading">
                        <div id="loading-center">
                            <div id="loading-center-absolute">
                                <div class="object" id="object_one"></div>
                                <div class="object" id="object_two"></div>
                                <div class="object" id="object_three"></div>
                                <div class="object" id="object_four"></div>
                                <div class="object" id="object_five"></div>
                                <div class="object" id="object_six"></div>
                                <div class="object" id="object_seven"></div>
                                <div class="object" id="object_eight"></div>
                            </div>
                            <!--<div class="text-center m-t">加载中请稍后</div>-->
                        </div>
                    </div>


                </div>

                <div id="message_container" class="app-content-body app-content-full fade-in-up h-full" style="display: none;">
                    <!-- hbox layout -->
                    <div class="hbox hbox-auto-xs bg-light">
                        <!-- column -->
                        <div class="col w-md lter b-r">
                            <div class="vbox">
                                <div class="wrapper b-b">
                                    <div class="font-thin h4">消息</div>
                                </div>
                                <div class="nav-tabs-alt">
                                    <ul class="nav nav-tabs nav-justified">
                                        <li class="active">
                                            <a data-target="#tab-1" role="tab" data-toggle="tab">最近</a>
                                        </li>
                                        <li>
                                            <a data-target="#tab-2" role="tab" data-toggle="tab">好友</a>
                                        </li>
                                        <li>
                                            <a data-target="#tab-3" role="tab" data-toggle="tab">群组</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="row-row">
                                    <div class="cell scrollable hover">
                                        <div class="cell-inner">
                                            <div class="tab-content">
                                                <div class="tab-pane active" id="tab-1">
                                                    <div class="list-group sesslist"></div>
                                                </div>
                                                <div class="tab-pane" id="tab-2">
                                                    <div class="list-group sesslist"></div>
                                                </div>
                                                <div class="tab-pane" id="tab-3">
                                                    <div class="list-group sesslist-group"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /column -->

                        <!-- column -->
                        <div class="col b-r" style="width: 800px;">
                            <div class="vbox">
                                <div class="row-row">
                                    <div class="cell">
                                        <div class="cell-inner">
                                            <div class="msgflow"></div>
                                            <span id="msg_end" style="overflow:hidden"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="padder b-t b-light text-center m-b">
                                    <div class="editbar">
                                        <a class="chat02_title_btn ctb01" title="选择表情" onclick="showEmotionDialog()"></a>
                                        <a class="chat02_title_btn ctb03" title="选择图片" onclick="selectPicClick()"> </a>
                                        <a class="chat02_title_btn ctb05" title="选择文件" onclick="selectFileClick()"> </a>
                                        <a class="chat02_title_btn ctb04" title="发送自定义消息" onclick="showEditCustomMsgDialog()"> </a>

                                        <div id="wl_faces_box" class="wl_faces_box">
                                            <div class="wl_faces_content">
                                                <div class="title">
                                                    <ul>
                                                        <li class="title_name">常用表情</li>
                                                        <li class="wl_faces_close"><span onclick='turnoffFaces_box()'>&nbsp;</span></li>
                                                    </ul>
                                                </div>
                                                <div id="wl_faces_main" class="wl_faces_main">
                                                    <ul id="emotionUL">
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="wlf_icon"></div>
                                        </div>
                                    </div>
                                    <textarea class="msgedit h-full w-full" id="send_msg_text" onkeydown="onTextareaKeyDown()" cols="82" rows="5"></textarea>
                                    <div class="clearfix">
                                        <button type="button" class="pull-right m-t w-xs btn btn-info" onclick="onSendMsg()">发送</button>
                                        <!--<button type="button" class="pull-right w-xs m-r btn btn-info" onclick="onClose()">关闭</button>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /column -->
                        <div class="col">
                            <div class="vbox">
                                <div class="row-row">
                                    <div class="cell">
                                        <div class="cell-inner">
                                            <div class="wrapper-md">
                                                引用实体
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /hbox layout -->

                    <div class="modal fade" id="search_profile_dialog" tabindex="-1" role="dialog" aria-labelledby="search_profile_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="search_profile_dialog_label">
                                        搜索用户
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form class="form-inline" role="form" id="sp_form" name="sp_form">
                                        <div class="form-group">
                                            <label class="sr-only" for="sp_to_account">帐号</label>
                                            <input type="text" class="form-control" id="sp_to_account" placeholder="请输入用户ID" maxlength="50" onkeydown="if(event.keyCode==13)return false;">
                                        </div>

                                        <button type="button" class="btn btn-default" onclick="searchProfileByUserId()">搜索</button>
                                    </form>
                                    <table id="search_profile_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="add_friend_dialog" tabindex="-1" role="dialog" aria-labelledby="add_friend_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="add_friend_dialog_label">
                                        申请加好友
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form class="form-horizontal" role="form">
                                        <input type="hidden" id="af_allow_type">

                                        <div class="form-group">
                                            <label for="af_to_account" class="col-sm-2 control-label">对方帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="af_to_account" placeholder="请输入对方帐号" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="af_add_wording" class="col-sm-2 control-label">附言</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="af_add_wording" rows="3">你好，我想和你成为朋友~~</textarea>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="applyAddFriend()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_friend_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_friend_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_friend_dialog_label">
                                        我的好友
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_my_friend_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="delete_friend_dialog" tabindex="-1" role="dialog" aria-labelledby="delete_friend_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="delete_friend_dialog_label">
                                        删除好友
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <input type="hidden" id="df_sel_row_index" />

                                        <div class="form-group">
                                            <label for="df_to_account" class="col-sm-2 control-label">对方帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="df_to_account" placeholder="请输入对方帐号" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="df_type_radio" class="col-sm-2 control-label">操作</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="df_type_radio" id="df_type_both_radio"
                                                           value="Delete_Type_Both" checked> 双向删除
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="df_type_radio" id="df_type_single_radio"
                                                           value="Delete_Type_Single"> 单向删除
                                                </label>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="deleteFriend()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_black_list_dialog" tabindex="-1" role="dialog" aria-labelledby="get_black_list_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_black_list_dialog_label">
                                        我的黑名单
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_black_list_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_recent_contact_list_dialog" tabindex="-1" role="dialog" aria-labelledby="get_recent_contact_list_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_recent_contact_list_dialog_label">
                                        我的最近联系人
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_recent_contact_list_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="set_profile_portrait_dialog" tabindex="-1" role="dialog" aria-labelledby="set_profile_portrait_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="set_profile_portrait_label">
                                        设置个人资料
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="spp_form" name="spp_form">
                                        <div class="form-group">
                                            <label for="spp_image" class="col-sm-2 control-label">头像URL</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="spp_image" placeholder="请输入头像URL" maxlength="100">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="spp_nick" class="col-sm-2 control-label">昵称</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="spp_nick" placeholder="请输入昵称" maxlength="20">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="spp_gender_radio" class="col-sm-2 control-label">性别</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="spp_gender_radio" id="spp_gender_male_radio"
                                                           value="Gender_Type_Male"> 男
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="spp_gender_radio" id="spp_gender_female_radio"
                                                           value="Gender_Type_Female"> 女
                                                </label>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="spp_allow_type_radio" class="col-sm-2 control-label">加好友设置</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="spp_allow_type_radio" id="spp_allow_type_need_confirm_radio"
                                                           value="AllowType_Type_NeedConfirm"> 需要确认
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="spp_allow_type_radio" id="spp_allow_type_allow_any_radio"
                                                           value="AllowType_Type_AllowAny"> 允许任何人
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="spp_allow_type_radio" id="spp_allow_type_deny_any_radio"
                                                           value="AllowType_Type_DenyAny"> 拒绝任何人
                                                </label>

                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="setProfilePortrait()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_pendency_dialog" tabindex="-1" role="dialog" aria-labelledby="get_pendency_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_pendency_dialog_label">
                                        我的好友申请
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_pendency_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <!-- 模态框（Modal） -->
                    <div class="modal fade" id="response_friend_dialog" tabindex="-1" role="dialog" aria-labelledby="response_friend_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="response_friend_dialog_label">
                                        处理好友申请
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <div class="form-group">
                                            <label for="rf_to_account" class="col-sm-2 control-label">对方帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="rf_to_account" placeholder="请输入对方帐号" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="rf_action_radio" class="col-sm-2 control-label">操作</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="rf_action_radio" id="rf_action_agree_and_add_radio"
                                                           value="Response_Action_AgreeAndAdd" checked> 同意并添加对方为好友
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="rf_action_radio" id="rf_action_agree_radio"
                                                           value="Response_Action_Agree"> 同意
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="rf_action_radio" id="rf_action_reject_radio"
                                                           value="Response_Action_Reject"> 拒绝
                                                </label>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="responseFriend()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="create_group_dialog" tabindex="-1" role="dialog" aria-labelledby="create_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="create_group_dialog_label">
                                        创建一个群
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="cg_form" name="cg_form">
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">已选好友</label>

                                            <div class="col-sm-8">
                                                <!--<input type="text" class="form-control" id="select_friends" value=""
                                                   placeholder="已选好友列表" readonly="readonly">-->
                                                <textarea class="form-control" id="select_friends" rows="3" readonly="readonly"></textarea>
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="button" class="btn btn-primary" onclick="selectMyFriendGroup()">
                                                    选择(选填)
                                                </button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_id" class="col-sm-2 control-label">自定义ID</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="cg_id" value="" placeholder="请输入自定义群ID" maxlength="30" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_type_radio" class="col-sm-2 control-label">类型</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_type_radio" id="cg_type_chat_room_radio"
                                                           value="ChatRoom" checked> 聊天室
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_type_radio" id="cg_type_public_radio"
                                                           value="Public"> 公开群
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_type_radio" id="cg_type_private_radio"
                                                           value="Private"> 私有群<!--私有群即讨论组-->
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_type_radio" id="cg_type_private_radio"
                                                           value="AVChatRoom"> 直播聊天室
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_ajp_type_radio" class="col-sm-2 control-label">加群方式</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_ajp_type_radio" id="cg_ajp_type_fa_radio"
                                                           value="FreeAccess" checked> 自由加入
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_ajp_type_radio" id="cg_ajp_type_np_radio"
                                                           value="NeedPermission" checked> 需要验证
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="cg_ajp_type_radio" id="cg_ajp_type_da_radio"
                                                           value="DisableApply"> 禁止加群
                                                </label>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_faceurl" class="col-sm-2 control-label">群头像URL</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="cg_faceurl" value="" placeholder="请输入群头像URL" maxlength="100" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_name" class="col-sm-2 control-label">名称</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="cg_name" value="" placeholder="请输入群名称" maxlength="30" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_notification" class="col-sm-2 control-label">公告</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="cg_notification" rows="3"></textarea>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="cg_introduction" class="col-sm-2 control-label">简介</label>

                                            <div class="col-sm-10">

                                                <textarea class="form-control" id="cg_introduction" rows="3"></textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="createGroup()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="select_my_friend_group_dialog" tabindex="-1" role="dialog" aria-labelledby="select_my_friend_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="select_my_friend_group_dialog_label">
                                        选择好友建群
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="select_my_friend_group_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="search_group_dialog" tabindex="-1" role="dialog" aria-labelledby="search_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-full">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="search_group_dialog_label">
                                        搜索群(按ID)
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form class="form-inline" role="form" id="sg_form" name="sg_form">
                                        <div class="form-group">
                                            <label class="sr-only" for="sg_group_id">群ID</label>
                                            <input type="text" class="form-control" id="sg_group_id" value="" placeholder="请输入群ID" maxlength="20" onkeydown="if(event.keyCode==13)return false;">
                                        </div>

                                        <button type="button" class="btn btn-default" onclick="getGroupPublicInfo()">搜索</button>
                                    </form>
                                    <table id="search_group_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="search_group_by_name_dialog" tabindex="-1" role="dialog" aria-labelledby="search_group_by_name_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-full">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="search_group_by_name_dialog_label">
                                        搜索群(按名称)
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form class="form-inline" role="form" id="sgbn_form" name="sgbn_form">
                                        <div class="form-group">
                                            <label class="sr-only" for="sgbn_group_name">群名称</label>
                                            <input type="text" class="form-control" id="sgbn_group_name" value="" placeholder="请输入群名称(完全匹配)" maxlength="50" onkeydown="if(event.keyCode==13)return false;">
                                        </div>

                                        <button type="button" class="btn btn-default" onclick="searchGroupByName()">搜索</button>
                                    </form>
                                    <table id="search_group_by_name_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="apply_join_group_dialog" tabindex="-1" role="dialog" aria-labelledby="apply_join_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="apply_join_group_dialog_label">
                                        申请加群
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="ajg_form" name="ajg_form">
                                        <input type="hidden" id="ajg_group_id">
                                        <input type="hidden" id="ajg_group_type">

                                        <div class="form-group">
                                            <label for="ajg_group_name" class="col-sm-2 control-label">群名称</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="ajg_group_name" placeholder="" readonly="readonly">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="ajg_apply_msg" class="col-sm-2 control-label">附言</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="ajg_apply_msg" value="你好，我想加入贵群~" placeholder="请输入附言" maxlength="50">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="applyJoinGroup()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_group_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_group_dialog_label">
                                        我的群组
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_my_group_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="modify_group_msg_flag_dialog" tabindex="-1" role="dialog" aria-labelledby="modify_group_msg_flag_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="modify_group_msg_flag_dialog_label">
                                        修改群消息提示
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="mgmf_form" name="mgmf_form">
                                        <input type="hidden" id="mgmf_sel_row_index" />
                                        <input type="hidden" id="mgmf_group_id" />

                                        <div class="form-group">
                                            <label for="mgmf_msg_flag_radio" class="col-sm-2 control-label">群消息提示类型</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="mgmf_msg_flag_radio" id="mgmf_mf_aan_radio"
                                                           value="AcceptAndNotify"> 接收并提示
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="mgmf_msg_flag_radio" id="mgmf_mf_ann_radio"
                                                           value="AcceptNotNotify"> 接收不提示
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="mgmf_msg_flag_radio" id="mgmf_mf_d_radio"
                                                           value="Discard"> 屏蔽
                                                </label>

                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="modifyGroupMsgFlag()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_group_member_dialog" tabindex="-1" role="dialog" aria-labelledby="get_group_member_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_group_member_dialog_label">
                                        群组成员
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <input type="hidden" id="ggm_group_id" />
                                    <input type="hidden" id="ggm_my_role" />
                                    <input type="hidden" id="ggm_group_type" />
                                    <table id="get_group_member_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="modify_group_member_dialog" tabindex="-1" role="dialog" aria-labelledby="modify_group_member_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="modify_group_member_dialog_label">
                                        修改群成员角色
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="mgm_form" name="mgm_form">
                                        <input type="hidden" id="mgm_sel_row_index" />
                                        <input type="hidden" id="mgm_group_id" />

                                        <div class="form-group">
                                            <label for="mgm_account" class="col-sm-2 control-label">成员帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="mgm_account" placeholder="请输入要修改的成员帐号" readonly="readonly">
                                            </div>
                                        </div>
                                        <div class="form-group" id="mgm_role_div">
                                            <label for="mgm_role_radio" class="col-sm-2 control-label">群角色</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="mgm_role_radio" id="mgm_role_admin_radio"
                                                           value="Admin"> 管理员
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="mgm_role_radio" id="mgm_role_member_radio"
                                                           value="Member"> 成员
                                                </label>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="modifyGroupMemberRole()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="delete_group_member_dialog" tabindex="-1" role="dialog" aria-labelledby="delete_group_member_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="delete_group_member_dialog_label">
                                        删除群成员
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <input type="hidden" id="dgm_group_id" />

                                        <div class="form-group">
                                            <label for="dgm_account" class="col-sm-2 control-label">成员帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="dgm_account" placeholder="请输入要删除成员帐号" readonly="readonly">
                                            </div>
                                        </div>
                                        <!--<div class="form-group">
                                        <label for="dgm_silence_radio" class="col-sm-2 control-label">是否静默删除</label>
                                        <div class="col-sm-10">

                                            <label class="radio-inline">
                                                <input type="radio" name="dgm_silence_radio" id="dgm_silence_yes_radio"
                                                       value="1" checked> 是
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="dgm_silence_radio" id="dgm_silence_no_radio"
                                                       value="0"> 否
                                            </label>

                                        </div>
                                    </div>-->

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="deleteGroupMember()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <!-- 模态框（Modal） -->
                    <div class="modal fade" id="handle_invite_join_group_request" tabindex="-1" role="dialog" aria-labelledby="handle_invite_join_group_request_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="handle_invite_join_group_request_label">
                                        处理被邀请进群申请
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <input type="hidden" id="hijg_authentication">
                                        <input type="hidden" id="hijg_msg_key">
                                        <input type="hidden" id="hijg_user_defined_field">

                                        <input type="hidden" id="hijg_from_account">
                                        <input type="hidden" id="hijg_msg_seq">
                                        <input type="hidden" id="hijg_msg_random">

                                        <div class="form-group">
                                            <label for="hijg_group_id" class="col-sm-2 control-label">群ID</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="hijg_group_id" placeholder="" readonly="readonly">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="hijg_to_account" class="col-sm-2 control-label">邀请人</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="hijg_to_account" placeholder="" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="hijg_action_radio" class="col-sm-2 control-label">操作</label>

                                            <div class="col-sm-10">
                                                <label class="radio-inline">
                                                    <input type="radio" name="hijg_action_radio" id="hijg_action_agree_radio"
                                                           value="Agree" checked> 同意
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="hijg_action_radio" id="hijg_action_reject_radio"
                                                           value="Reject"> 拒绝
                                                </label>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="hijg_approval_msg" class="col-sm-2 control-label">附言</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="hijg_approval_msg" rows="3"></textarea>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="handleInviteJoinGroupRequest()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="modify_group_dialog" tabindex="-1" role="dialog" aria-labelledby="modify_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="modify_group_dialog_label">
                                        修改群基本资料
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="mg_form" name="mg_form">
                                        <input type="hidden" id="mg_sel_row_index" />
                                        <input type="hidden" id="mg_group_id" />
                                        <div class="form-group">
                                            <label for="mg_faceurl" class="col-sm-2 control-label">群头像URL</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="mg_faceurl" placeholder="请输入群头像URL" maxlength="100" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="mg_name" class="col-sm-2 control-label">名称</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="mg_name" placeholder="请输入群名称" maxlength="30" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="mg_notification" class="col-sm-2 control-label">公告</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="mg_notification" rows="3"></textarea>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="mg_introduction" class="col-sm-2 control-label">简介</label>

                                            <div class="col-sm-10">

                                                <textarea class="form-control" id="mg_introduction" rows="3"></textarea>
                                            </div>
                                        </div>

                                        <div class="form-group" id="shut_up_all_role_div">
                                            <label for="shut_up_all" class="col-sm-2 control-label">群全局禁言</label>

                                            <div class="col-sm-10">

                                                <label class="radio-inline">
                                                    <input type="radio" name="mgm_role_radio" id="shut_up_all_member"
                                                           value="On"> 全局禁言
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="mgm_role_radio" id="shut_up_all_member"
                                                           value="Off"> 取消禁言
                                                </label>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="modifyGroup()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->


                    <div class="modal fade" id="change_group_owner_dialog" tabindex="-1" role="dialog" aria-labelledby="change_group_owner_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="change_group_owner_dialog_label">
                                        转让群组
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="cgo_form" name="cgo_form">
                                        <input type="hidden" id="cgo_sel_row_index" />
                                        <input type="hidden" id="cgo_group_id" />

                                        <div class="form-group">
                                            <label for="cgo_new_owner" class="col-sm-4 control-label">新群主账号</label>

                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="cgo_new_owner" placeholder="请输入新群主ID" maxlength="50" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="changeGroupOwner()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_friend_group_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_friend_group_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_friend_group_dialog_label">
                                        我的好友
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <input type="hidden" id="gmfg_group_id" />
                                    <table id="get_my_friend_group_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="add_group_member_dialog" tabindex="-1" role="dialog" aria-labelledby="add_group_member_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="add_group_member_dialog_label">
                                        邀请群成员
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <input type="hidden" id="agm_group_id" />

                                        <div class="form-group">
                                            <label for="agm_account" class="col-sm-2 control-label">成员帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="agm_account" placeholder="请输入要邀请成员帐号" readonly="readonly">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="addGroupMember()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="forbid_send_msg_dialog" tabindex="-1" role="dialog" aria-labelledby="forbid_send_msg_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="forbid_send_msg_dialog_label">
                                        设置成员禁言时间
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="fsm_form" name="fsm_form">
                                        <input type="hidden" id="fsm_sel_row_index" />
                                        <input type="hidden" id="fsm_group_id" />

                                        <div class="form-group">
                                            <label for="fsm_account" class="col-sm-2 control-label">成员帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="fsm_account" placeholder="请输入要修改的成员帐号" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="fsm_shut_up_time" class="col-sm-2 control-label">禁言时间(s)</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="fsm_shut_up_time" placeholder="请输入禁言时间" maxlength="8" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="forbidSendMsg()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="send_c2c_msg_dialog" tabindex="-1" role="dialog" aria-labelledby="send_c2c_msg_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="send_c2c_msg_dialog_label">
                                        发C2C消息
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="scm_form" name="scm_form">

                                        <div class="form-group">
                                            <label for="scm_to_account" class="col-sm-2 control-label">好友账号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="scm_to_account" placeholder="" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="scm_content" class="col-sm-2 control-label">内容</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="scm_content" placeholder="请输入消息内容" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="sendC2cMsg()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="send_group_msg_dialog" tabindex="-1" role="dialog" aria-labelledby="send_group_msg_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="send_group_msg_dialog_label">
                                        发群消息
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="sgm_form" name="sgm_form">
                                        <input type="hidden" id="sgm_to_group_name">
                                        <div class="form-group">
                                            <label for="sgm_to_groupid" class="col-sm-2 control-label">群ID</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sgm_to_groupid" placeholder="" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="sgm_content" class="col-sm-2 control-label">内容</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sgm_content" placeholder="请输入消息内容" onkeydown="if(event.keyCode==13)return false;">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="sendGroupMsg()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="upload_pic_low_ie_dialog" tabindex="-1" role="dialog" aria-labelledby="upload_pic_low_ie_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="upload_pic_low_ie_dialog_label">
                                        发送图片
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form id="updli_form" enctype="multipart/form-data" class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">

                                        <div class="form-group">
                                            <label for="File" class="col-sm-2 control-label">选择</label>

                                            <div class="col-sm-10">
                                                <input type="file" id="updli_file" />
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="uploadPicLowIE()">
                                        发送
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="upload_file_low_ie_dialog" tabindex="-1" role="dialog" aria-labelledby="upload_file_low_ie_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="upload_file_low_ie_dialog_label">
                                        发送文件
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <form id="updli_file_form" enctype="multipart/form-data" class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">

                                        <div class="form-group">
                                            <label for="File" class="col-sm-2 control-label">选择</label>

                                            <div class="col-sm-10">
                                                <input type="file" id="upload_low_ie_file" />
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="uploadFileLowIE()">
                                        发送
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="upload_pic_dialog" tabindex="-1" role="dialog" aria-labelledby="upload_pic_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="upload_pic_dialog_label">
                                        发送图片
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="upd_form" name="upd_form">
                                        <div class="form-group">
                                            <label for="File" class="col-sm-2 control-label">选择</label>

                                            <div class="col-sm-10">
                                                <input type="file" id="upd_pic" onchange="fileOnChange(this)" />
                                                <!--<input type="button" value="停止" id="upd_abort" />-->
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="File" class="col-sm-2 control-label">预览</label>

                                            <div class="col-sm-10">
                                                <div id="previewPicDiv"></div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="upd_progress" class="col-sm-2 control-label">进度</label>

                                            <div class="col-sm-10">

                                                <progress id="upd_progress" value="0" max="100"></progress>
                                                <!--<input type="text" id="upd_progress" value="0" name="upd_progress" />-->
                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="uploadPic()">
                                        发送
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="upload_file_dialog" tabindex="-1" role="dialog" aria-labelledby="upload_file_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="upload_file_dialog_label">
                                        发送文件
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="upd_file_form" name="upd_file_form">
                                        <div class="form-group">
                                            <label for="File" class="col-sm-2 control-label">选择</label>

                                            <div class="col-sm-10">
                                                <input type="file" id="upd_file" />
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="upd_file_progress" class="col-sm-2 control-label">进度</label>

                                            <div class="col-sm-10">

                                                <progress id="upd_file_progress" value="0" max="100"></progress>
                                                <!--<input type="text" id="upd_progress" value="0" name="upd_progress" />-->
                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="uploadFile()">
                                        发送
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="click_pic_dialog" tabindex="-1" role="dialog" aria-labelledby="click_pic_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="click_pic_dialog_label">
                                        查看图片
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form">

                                        <div class="form-group">

                                            <div class="col-sm-12">
                                                <div id="bigPicDiv"></div>
                                            </div>
                                        </div>


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <!--<button type="button" class="btn btn-primary" id="viewOriPicBt">
                                    查看原图
                                </button>-->
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_apply_join_group_pendency_dialog" tabindex="-1" role="dialog" aria-labelledby="get_apply_join_group_pendency_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_apply_join_group_pendency_dialog_label">
                                        我的加群申请
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_apply_join_group_pendency_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <!-- 模态框（Modal） -->
                    <div class="modal fade" id="handle_ajg_dialog" tabindex="-1" role="dialog" aria-labelledby="handle_ajg_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="handle_ajg_dialog_label">
                                        处理加群申请
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
                                        <input type="hidden" id="hajg_authentication">
                                        <input type="hidden" id="hajg_msg_key">
                                        <input type="hidden" id="hajg_user_defined_field">

                                        <input type="hidden" id="hajg_from_account">
                                        <input type="hidden" id="hajg_msg_seq">
                                        <input type="hidden" id="hajg_msg_random">

                                        <div class="form-group">
                                            <label for="hajg_group_id" class="col-sm-2 control-label">群ID</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="hajg_group_id" placeholder="" readonly="readonly">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="hajg_to_account" class="col-sm-2 control-label">对方帐号</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="hajg_to_account" placeholder="" readonly="readonly">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="hajg_action_radio" class="col-sm-2 control-label">操作</label>

                                            <div class="col-sm-10">
                                                <label class="radio-inline">
                                                    <input type="radio" name="hajg_action_radio" id="hajg_action_agree_radio"
                                                           value="Agree" checked> 同意
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="hajg_action_radio" id="hajg_action_reject_radio"
                                                           value="Reject"> 拒绝
                                                </label>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="hajg_approval_msg" class="col-sm-2 control-label">附言</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="hajg_approval_msg" rows="3"></textarea>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="handleApplyJoinGroupPendency()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_group_system_msgs_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_group_system_msgs_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_group_system_msgs_dialog_label">
                                        我的群组系统消息
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_my_group_system_msgs_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="edit_custom_msg_dialog" tabindex="-1" role="dialog" aria-labelledby="edit_custom_msg_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="edit_custom_msg_label">
                                        发送自定义消息
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;" id="ecm_form" name="ecm_form">
                                        <div class="form-group">
                                            <label for="ecm_data" class="col-sm-2 control-label">数据</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="ecm_data" rows="3"></textarea>

                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="ecm_desc" class="col-sm-2 control-label">描述</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="ecm_desc" placeholder="请输入描述" maxlength="50">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="ecm_ext" class="col-sm-2 control-label">扩展</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="ecm_ext" placeholder="请输入扩展" maxlength="50">
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="sendCustomMsg()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="send_group_system_msg_dialog" tabindex="-1" role="dialog" aria-labelledby="send_group_system_msg_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="send_group_system_msg_dialog_label">
                                        发送自定义群系统通知
                                    </h4>
                                </div>
                                <div class="modal-body">

                                    <form class="form-horizontal" role="form" id="sgsm_form" name="sgsm_form">
                                        <div class="form-group">
                                            <label for="sgsm_group_id" class="col-sm-2 control-label">群组ID</label>

                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sgsm_group_id" placeholder="请输入群组ID" maxlength="30">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="sgsm_content" class="col-sm-2 control-label">内容</label>

                                            <div class="col-sm-10">
                                                <textarea class="form-control" id="sgsm_content" rows="3"></textarea>

                                            </div>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="sendCustomGroupNotify()">
                                        提交
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_friend_system_msgs_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_friend_system_msgs_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_friend_system_msgs_dialog_label">
                                        我的好友系统通知
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_my_friend_system_msgs_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="get_my_profile_system_msgs_dialog" tabindex="-1" role="dialog" aria-labelledby="get_my_friend_profile_msgs_dialog_label" aria-hidden="true" data-backdrop="static">
                        <div class="modal-dialog-wide">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="get_my_friend_profile_msgs_dialog_label">
                                        我的资料系统通知
                                    </h4>
                                </div>
                                <div class="modal-body">
                                    <table id="get_my_profile_system_msgs_table">
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        关闭
                                    </button>

                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->

                    <div class="modal fade" id="global_distribution" tabindex="-1" role="dialog">
                        <div class="modal-xs modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"
                                            aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                    <h4 class="modal-title">分配专属业务员</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group clearfix">
                                        <label class="col-lg-2 " style="margin-top: 8px"></label>
                                        <div class="col-lg-10">
                                            <select ng-model="distributionSelect" class="form-control" ng-change="distributionShow(distributionSelect)">
                                                <option value="0">常用</option>
                                                <option value="1">全部</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group clearfix">

                                        <label class="col-lg-2 " style="margin-top: 8px">业务员</label>
                                        <div class="col-lg-10">
                                            <!--<button>全部</button>-->
                                            <select ng-model="distributionVal" class="form-control"
                                                    ng-options="y.nickname for (x,y) in userList">
                                                <option value="">--请选择业务员--</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer text-center">
                                    <button type="button" class="btn btn-success w-lg"
                                            ng-click="distributionSave(distributionVal,distEntityId.value)">
                                        提交
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /content -->

            <div data-ng-include=" 'tpl/blocks/settings.html'" class="settings panel panel-default">
            </div>

        </div>

        <!-- build:js js/app.angular.js -->
        <!-- jQuery -->
        <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <!-- jquery toastr -->
        <script src="libs/jquery/toastr/toastr.min.js"></script>
        <!--layer-->
        <script src="libs/layer/layer.js"></script>
        <!--autocomplete-->
        <script src="libs/jquery/autocomplete/jquery.autocomplete.js"></script>
        <!--loading-->
        <script src="libs/jquery/jquery.shCircleLoader-min.js"></script>


        <script>
            toastr.options = {
                "closeButton": true,
                "debug": false,
                "positionClass": "toast-bottom-right",
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            };

            window.onhashchange = function(){
                if($("#message_container").css("display")==="block"){
                    $("#message_container").css("display","none");
                    $("#common_container").css("display","block");
                }
            };
        </script>

        <script type="text/javascript">
            var socket;

            if(typeof(WebSocket) == "undefined") {
                console.log("您的浏览器不支持WebSocket");

            }

            $("#btnConnection").click(function() {
                //实现化WebSocket对象，指定要连接的服务器地址与端口
                socket = new WebSocket("ws://192.168.1.2:8888");
                //打开事件
                socket.onopen = function() {
                    alert("Socket 已打开");
                    //socket.send("这是来自客户端的消息" + location.href + new Date());
                };
                //获得消息事件
                socket.onmessage = function(msg) {
                    alert(msg.data);
                };
                //关闭事件
                socket.onclose = function() {
                    alert("Socket已关闭");
                };
                //发生了错误事件
                socket.onerror = function() {
                    alert("发生了错误");
                }
            });

            //发送消息
            $("#btnSend").click(function() {
                socket.send("这是来自客户端的消息" + location.href + new Date());
            });

            //关闭
            $("#btnClose").click(function() {
                socket.close();
            });
        </script>
        <!-- Sweetalert -->
        <script src="https://cdn.bootcss.com/sweetalert/1.1.3/sweetalert.min.js"></script>
        <!-- moment.js -->
        <script src="https://cdn.bootcss.com/moment.js/2.18.1/moment.js"></script>
        <script src="https://cdn.bootcss.com/moment.js/2.18.1/locale/zh-cn.js"></script>
		<!--echarts-->
        <script src="https://cdn.bootcss.com/echarts/3.7.0/echarts.min.js"></script>

        <!-- Angular -->
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular.min.js"></script>

        <script src="https://cdn.bootcss.com/angular.js/1.5.8/i18n/angular-locale_zh-cn.js"></script>
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular-animate.min.js"></script>
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular-aria.min.js"></script>
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular-cookies.min.js"></script>
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular-resource.min.js"></script>
        <script src="https://cdn.bootcss.com/angular.js/1.5.8/angular-sanitize.min.js"></script>
        <script src="https://cdn.bootcss.com/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>
        <script src="libs/angular/ngstorage/ngStorage.min.js"></script>
        <script src="libs/angular/angular-ui-utils/ui-utils.min.js"></script>

        <script src="https://cdn.bootcss.com/angular-file-upload/1.1.5/angular-file-upload.min.js"></script>
        <!-- bootstrap -->
        <script src="https://cdn.bootcss.com/angular-ui-bootstrap/0.12.1/ui-bootstrap-tpls.min.js"></script>
        <!-- lazyload -->
        <script src="https://cdn.bootcss.com/oclazyload/0.5.2/ocLazyLoad.min.js"></script>
        <!-- translate -->
        <script src="https://cdn.bootcss.com/angular-translate/2.5.2/angular-translate.min.js"></script>
        <script src="https://cdn.bootcss.com/angular-translate/2.15.2/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js"></script>
        <script src="https://cdn.bootcss.com/angular-translate/2.15.2/angular-translate-storage-cookie/angular-translate-storage-cookie.min.js"></script>
        <script src="https://cdn.bootcss.com/angular-translate/2.15.2/angular-translate-storage-local/angular-translate-storage-local.min.js"></script>
        <!-- App -->
        <script src="js/app.js"></script>
        <script src="js/config.js"></script>
        <script src="js/config.lazyload.js"></script>
        <script src="js/config.router.js"></script>
        <script src="js/main.js"></script>
        <script src="js/filters/customFilter.js"></script>
        <script src="js/services/customService.js"></script>
        <script src="js/services/imService.js"></script>
        <script src="js/services/ui-load.js"></script>
        <script src="js/filters/fromNow.js"></script>
        <script src="js/directives/setnganimate.js"></script>
        <script src="js/directives/ui-butterbar.js"></script>
        <script src="js/directives/ui-focus.js"></script>
        <script src="js/directives/ui-fullscreen.js"></script>
        <script src="js/directives/ui-jq.js"></script>
        <script src="js/directives/ui-module.js"></script>
        <script src="js/directives/ui-nav.js"></script>
        <script src="js/directives/ui-scroll.js"></script>
        <script src="js/directives/ui-shift.js"></script>
        <script src="js/directives/ui-toggleclass.js"></script>
        <script src="js/controllers/bootstrap.js"></script>
        <script src="js/controllers/workflowEntityControllers.js"></script>
        <script src="js/controllers/workflowEntityConfigControllers.js"></script>
        <script src="js/controllers/auditEntityConfigControllers.js"></script>
        <script src="http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script>
        <!-- endbuild -->
        <!-- Lazy loading -->

        <!-- WEBIM -->
        <script src="libs/TIMsdk/js/lib/md5/spark-md5.js"></script>
        <script src="libs/TIMsdk/sdk/webim.min.js"></script>
        <script src="libs/TIMsdk/sdk/json2.js"></script>
        <!--<script src="https://cdn.bootcss.com/jqueryui/1.11.4/jquery-ui.js"></script>-->
        <script src="libs/TIMsdk/js/lib/lodash.min.js"></script>
        <!--<script src="https://cdn.bootcss.com/bootstrap-table/1.4.0/bootstrap-table.min.js"></script>-->
        <script src="libs/TIMsdk/js/lib/bootstrap/bootstrap-collapse.js"></script>
        <script src="libs/TIMsdk/js/lib/xss.js"></script>
        <script src="libs/jQueryDistpicker/distpicker.data.js"></script>
        <script src="libs/jQueryDistpicker/distpicker.js"></script>
        <script src="libs/TIMsdk/loginAndInitIm.min.js"></script>
        <!--html表格转成csv文件-->
        <!--<script src="libs/jquery/tableExpoet/tebleExporter.min.js"></script>-->




        <script>
            //帐号模式，0-表示独立模式，1-表示托管模式
            var accountMode = 0;

            //当前用户身份
            var loginInfo = {
                'sdkAppID': 1400034003, //用户所属应用id,必填
                'accountType': 13577, //用户所属应用帐号类型，必填
                'identifier': '', //当前用户ID,必须是否字符串类型，必填
                'userSig': '', //当前用户身份凭证，必须是字符串类型，必填
                'identifierNick': null, //当前用户昵称，不用填写，登录接口会返回用户的昵称，如果没有设置，则返回用户的id
                'headurl': '' //当前用户默认头像，选填，如果设置过头像，则可以通过拉取个人资料接口来得到头像信息
            };

            var AdminAcount = 'admin';
            var selType = webim.SESSION_TYPE.C2C; //当前聊天类型
            var selToID = null; //当前选中聊天id（当聊天类型为私聊时，该值为好友帐号，否则为群号）
            var selSess = null; //当前聊天会话对象
            var recentSessMap = {}; //保存最近会话列表
            var reqRecentSessCount = 50; //每次请求的最近会话条数，业务可以自定义
            var sessMap = webim.MsgStore.sessMap(); //获取全部sessMap

            //默认好友头像
            var friendHeadUrl = 'img/friend.jpg'; //仅demo使用，用于没有设置过头像的好友
            //默认群头像
            var groupHeadUrl = 'img/group.jpg'; //仅demo使用，用于没有设置过群头像的情况


            //存放c2c或者群信息（c2c用户：c2c用户id，昵称，头像；群：群id，群名称，群头像）
            var infoMap = {}; //初始化时，可以先拉取我的好友和我的群组信息


            var maxNameLen = 12; //我的好友或群组列表中名称显示最大长度，仅demo用得到
            var reqMsgCount = 15; //每次请求的历史消息(c2c获取群)条数，仅demo用得到

            var pageSize = 15; //表格的每页条数，bootstrap table 分页时用到
            var totalCount = 200; //每次接口请求的条数，bootstrap table 分页时用到

            var emotionFlag = false; //是否打开过表情选择框

            var curPlayAudio = null; //当前正在播放的audio对象

            var getPrePageC2CHistroyMsgInfoMap = {}; //保留下一次拉取好友历史消息的信息
            var getPrePageGroupHistroyMsgInfoMap = {}; //保留下一次拉取群历史消息的信息

            var defaultSelGroupId = null; //登录默认选中的群id，选填，仅demo用得到

            //监听（多终端同步）群系统消息方法，方法都定义在receive_group_system_msg.js文件中
            //注意每个数字代表的含义，比如，
            //1表示监听申请加群消息，2表示监听申请加群被同意消息，3表示监听申请加群被拒绝消息
            var onGroupSystemNotifys = {
                "1": onApplyJoinGroupRequestNotify, //申请加群请求（只有管理员会收到）
                "2": onApplyJoinGroupAcceptNotify, //申请加群被同意（只有申请人能够收到）
                "3": onApplyJoinGroupRefuseNotify, //申请加群被拒绝（只有申请人能够收到）
                "4": onKickedGroupNotify, //被管理员踢出群(只有被踢者接收到)
                "5": onDestoryGroupNotify, //群被解散(全员接收)
                "6": onCreateGroupNotify, //创建群(创建者接收)
                "7": onInvitedJoinGroupNotify, //邀请加群(被邀请者接收)
                "8": onQuitGroupNotify, //主动退群(主动退出者接收)
                "9": onSetedGroupAdminNotify, //设置管理员(被设置者接收)
                "10": onCanceledGroupAdminNotify, //取消管理员(被取消者接收)
                "11": onRevokeGroupNotify, //群已被回收(全员接收)
                "15": onReadedSyncGroupNotify, //群消息已读同步通知
                "255": onCustomGroupNotify //用户自定义通知(默认全员接收)
            };

            //监听好友系统通知函数对象，方法都定义在receive_friend_system_msg.js文件中
            var onFriendSystemNotifys = {
                "1": onFriendAddNotify, //好友表增加
                "2": onFriendDeleteNotify, //好友表删除
                "3": onPendencyAddNotify, //未决增加
                "4": onPendencyDeleteNotify, //未决删除
                "5": onBlackListAddNotify, //黑名单增加
                "6": onBlackListDeleteNotify //黑名单删除
            };

            var onC2cEventNotifys = {
                "92": onMsgReadedNotify, //消息已读通知,
                "96": onMultipleDeviceKickedOut
            };

            //监听资料系统通知函数对象，方法都定义在receive_profile_system_msg.js文件中
            var onProfileSystemNotifys = {
                "1": onProfileModifyNotify //资料修改
            };

            //监听连接状态回调变化事件
            var onConnNotify = function(resp) {
                var info;
                switch (resp.ErrorCode) {
                    case webim.CONNECTION_STATUS.ON:
                        webim.Log.warn('建立连接成功: ' + resp.ErrorInfo);
                        break;
                    case webim.CONNECTION_STATUS.OFF:
                        info = '连接已断开，无法收到新消息，请检查下你的网络是否正常: ' + resp.ErrorInfo;
                        // alert(info);
                        webim.Log.warn(info);
                        break;
                    case webim.CONNECTION_STATUS.RECONNECT:
                        info = '连接状态恢复正常: ' + resp.ErrorInfo;
                        // alert(info);
                        webim.Log.warn(info);
                        break;
                    default:
                        webim.Log.error('未知连接状态: =' + resp.ErrorInfo);
                        break;
                }
            };

            //IE9(含)以下浏览器用到的jsonp回调函数
            function jsonpCallback(rspData) {
                webim.setJsonpLastRspData(rspData);
            }

            //监听事件
            var listeners = {
                "onConnNotify": onConnNotify //监听连接状态回调变化事件,必填
                ,
                "jsonpCallback": jsonpCallback //IE9(含)以下浏览器用到的jsonp回调函数，
                ,
                "onMsgNotify": onMsgNotify //监听新消息(私聊，普通群(非直播聊天室)消息，全员推送消息)事件，必填
                ,
                "onBigGroupMsgNotify": onBigGroupMsgNotify //监听新消息(直播聊天室)事件，直播场景下必填
                ,
                "onGroupSystemNotifys": onGroupSystemNotifys //监听（多终端同步）群系统消息事件，如果不需要监听，可不填
                ,
                "onGroupInfoChangeNotify": onGroupInfoChangeNotify //监听群资料变化事件，选填
                ,
                "onFriendSystemNotifys": onFriendSystemNotifys //监听好友系统通知事件，选填
                ,
                "onProfileSystemNotifys": onProfileSystemNotifys //监听资料系统（自己或好友）通知事件，选填
                ,
                "onKickedEventCall": onKickedEventCall //被其他登录实例踢下线
                ,
                "onC2cEventNotifys": onC2cEventNotifys //监听C2C系统消息通道
                ,
                "onAppliedDownloadUrl": onAppliedDownloadUrl //申请文件/音频下载地址的回调
            };

            var isAccessFormalEnv = true; //是否访问正式环境

            if (webim.Tool.getQueryString("isAccessFormalEnv") == "false") {
                isAccessFormalEnv = false; //访问测试环境
            }

            var isLogOn = false; //是否开启sdk在控制台打印日志

            //初始化时，其他对象，选填
            var options = {
                'isAccessFormalEnv': isAccessFormalEnv, //是否访问正式环境，默认访问正式，选填
                'isLogOn': isLogOn //是否开启控制台打印日志,默认开启，选填
            };

            var msgflow = document.getElementsByClassName("msgflow")[0];

            msgflow.style.height = window.innerHeight - 50 - 199 - 15 + "px";

            window.onresize = function() {
                msgflow.style.height = window.innerHeight - 50 - 199 - 15 + "px";
            };

            var bindScrollHistoryEvent = {
                init: function() {
                    msgflow.onscroll = function() {
                        if (msgflow.scrollTop == 0) {
                            msgflow.scrollTop = 10;
                            if (selType == webim.SESSION_TYPE.C2C) {
                                getPrePageC2CHistoryMsgs();
                            } else {
                                getPrePageGroupHistoryMsgs();
                            }

                        }
                    }
                },
                reset: function() {
                    msgflow.onscroll = null;
                }
            };

            function loginAndInitIm(info) {

                loginInfo.identifier = info.unionid;
                loginInfo.userSig = info.sig;
                loginInfo.headurl = info.headimgurl;

                webim.login(
                    loginInfo, listeners, options,
                    function(resp) {
                        loginInfo.identifierNick = resp.identifierNick; //设置当前用户昵称
                        initDemoApp();
                    },
                    function(err) {
                        alert(err.ErrorInfo);
                    }
                );
            }
        </script>
    </body>
</html>

